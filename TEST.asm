ORG 0000H
LJMP MAIN
ORG 0030H
MAIN: 
SETB TCON.2
SETB TCON.0
MOV IE,#85H

HERE :

AJMP START
SJMP HERE
Start:	
JNB P3.1,LOOP22
 MOV TMOD ,#00100000B
MOV TH1,#6H     
Loop:
CJNE R2,#01H,LOOP1
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
      jmp start 
       LOOP22:
 MOV P1,#0FFH
AJMP start
 LOOP1:
CJNE R2,#02H,LOOP2
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
  jmp start
LOOP2:
CJNE R2,#03H,LOOP3
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP3:
CJNE R2,#04H,LOOP4
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP4:
CJNE R2,#05H,LOOP5
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP5:
CJNE R2,#06H,LOOP6
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP6:
CJNE R2,#07H,LOOP7
SETB P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP7:
CJNE R2,#08H,LOOP8
SETB P1.0
ACALL DELAY
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP8:
CJNE R2,#09H,LOOP9
SETB P1.0
ACALL DELAY
CLR P1.0
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
jmp start
LOOP9:
MOV P1,#0FFH
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ACALL DELAY
ajmp START

DELAY :
SETB TR1
HEREE : JNB TF1,HEREE
CLR TR1
CLR TF1
RET

ORG 0013H
INC R2
RETI
ORG 0003H
DEC R2
RETI

      END